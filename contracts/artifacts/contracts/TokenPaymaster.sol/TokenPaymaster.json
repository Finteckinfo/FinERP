{
  "_format": "hh-sol-artifact-1",
  "contractName": "TokenPaymaster",
  "sourceName": "contracts/TokenPaymaster.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_entryPoint",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_initialVerifier",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "ECDSAInvalidSignature",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "length",
          "type": "uint256"
        }
      ],
      "name": "ECDSAInvalidSignatureLength",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "ECDSAInvalidSignatureS",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newRate",
          "type": "uint256"
        }
      ],
      "name": "ExchangeRateUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "gasUsed",
          "type": "uint256"
        }
      ],
      "name": "PaymasterCharged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "TokenDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "verifier",
          "type": "address"
        }
      ],
      "name": "VerifierAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "verifier",
          "type": "address"
        }
      ],
      "name": "VerifierRemoved",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "acceptedToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifier",
          "type": "address"
        }
      ],
      "name": "addVerifier",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "entryPoint",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "exchangeRate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "context",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "actualGasCost",
          "type": "uint256"
        }
      ],
      "name": "postOp",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifier",
          "type": "address"
        }
      ],
      "name": "removeVerifier",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_newRate",
          "type": "uint256"
        }
      ],
      "name": "setExchangeRate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "usedNonces",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "userOpHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "maxCost",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "validatePaymasterUserOp",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "context",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "verifiedSigners",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawTokens",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080346101cd57601f610e8f38819003918201601f1916830191906001600160401b038311848410176101d25781606092859260409586528339810103126101cd5761004a826101e8565b6100618261005a602086016101e8565b94016101e8565b9033156101b55760008054336001600160a01b0319808316821784558651979395909490936001600160a01b0393909284929183167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08980a3670de0b6b3a7640000600355169687156101835750811691821561014a571691821561011357849581600154161760015560025416176002558152600460205220600160ff1982541617905551610c9290816101fd8239f35b845162461bcd60e51b815260206004820152601060248201526f24b73b30b634b2103b32b934b334b2b960811b6044820152606490fd5b855162461bcd60e51b8152602060048201526012602482015271125b9d985b1a5908115b9d1c9e541bda5b9d60721b6044820152606490fd5b62461bcd60e51b815260206004820152600d60248201526c24b73b30b634b2103a37b5b2b760991b6044820152606490fd5b8251631e4fbdf760e01b815260006004820152602490fd5b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036101cd5756fe6080604081815260048036101561001557600080fd5b600092833560e01c90816312065fe0146109ae57508063190f3b0c146107c85780632737240d146105de578063315a095d1461044b578063324762b91461040f5780633ba0b9a9146103f0578063451c3d80146103c7578063715018a61461036a5780638da5cb5b146103425780639000b3d6146102a0578063b0d691fe14610273578063ca2dfd0a1461020d578063db068e0e1461017d578063f2fde38b146100f75763feb61724146100c857600080fd5b346100f35760203660031901126100f3578160209360ff923581526005855220541690519015158152f35b8280fd5b50346100f35760203660031901126100f357610111610a79565b9061011a610adf565b6001600160a01b0391821692831561016757505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b51631e4fbdf760e01b8152908101849052602490fd5b5090346100f35760203660031901126100f35781359161019b610adf565b82156101d35750816020917f388f446e9526fe5c9af20a5919b342370c8a7c0cb05245afe1e545658fa3cdba9360035551908152a180f35b6020606492519162461bcd60e51b8352820152601560248201527452617465206d75737420626520706f73697469766560581b6044820152fd5b5090346100f35760203660031901126100f357610228610a79565b610230610adf565b6001600160a01b03168084526020929092528220805460ff191690557f44a3cd4eb5cc5748f6169df057b1cb2ae4c383e87cd94663c430e095d4cba4248280a280f35b50503461029c578160031936011261029c5760025490516001600160a01b039091168152602090f35b5080fd5b5090346100f35760203660031901126100f3576102bb610a79565b6102c3610adf565b6001600160a01b031691821561030d578284526020528220805460ff191660011790557f6d05492139c5ea989514a5d2150c028041e5c087e2a39967f67dc7d2655adb818280a280f35b6020606492519162461bcd60e51b8352820152601060248201526f24b73b30b634b2103b32b934b334b2b960811b6044820152fd5b50503461029c578160031936011261029c57905490516001600160a01b039091168152602090f35b83346103c457806003193601126103c457610383610adf565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b80fd5b50503461029c578160031936011261029c5760015490516001600160a01b039091168152602090f35b50503461029c578160031936011261029c576020906003549051908152f35b50346100f35760203660031901126100f35760209260ff918391906001600160a01b0361043a610a79565b168252855220541690519015158152f35b5090346100f357602090816003193601126105da57823561046a610adf565b60015482516370a0823160e01b815230868201526001600160a01b0391821691908581602481865afa9081156105d057889161059f575b508311610565578654845163a9059cbb60e01b815291166001600160a01b03168682019081526020810193909352918491839182908990829060400103925af190811561055b57859161052e575b50156104f9578380f35b5162461bcd60e51b815291820152601160248201527015da5d1a191c985dd85b0819985a5b1959607a1b604482015260649150fd5b61054e9150833d8511610554575b6105468183610a8f565b810190610ac7565b386104ef565b503d61053c565b82513d87823e3d90fd5b835162461bcd60e51b81528087018690526014602482015273496e73756666696369656e742062616c616e636560601b6044820152606490fd5b90508581813d83116105c9575b6105b68183610a8f565b810103126105c55751386104a1565b8780fd5b503d6105ac565b85513d8a823e3d90fd5b8380fd5b5091346103c45760803660031901126103c4576105f9610a79565b90602435916064359467ffffffffffffffff958681116105da576106209036908301610a46565b94907f19457468657265756d205369676e6564204d6573736167653a0a333200000000855281601c52603c85209786116107b557602097601f199688519261066f8b8a601f8501160185610a8f565b81845236828201116105c55791878b838694610695968361069e99013784010152610b0b565b90929192610b47565b6001600160a01b031684528187528584205460ff161561077e5783526005865260ff8584205416610746575083516001600160a01b0390911685820190815260443560208201529092906106fd90849060400103828101855284610a8f565b8351948592818452845191828186015281955b83871061072e5750508394508582601f949501015201168101030190f35b86810182015189880189015295810195889550610710565b845162461bcd60e51b81529081018690526012602482015271139bdb98d948185b1c9958591e481d5cd95960721b6044820152606490fd5b855162461bcd60e51b81528083018890526011602482015270496e76616c6964207369676e617475726560781b6044820152606490fd5b634e487b7160e01b855260418352602485fd5b5082903461029c578260031936011261029c57803567ffffffffffffffff81116100f3576107f99036908301610a46565b60025460249592918635916001600160a01b0391908216330361097a5783859181010312610976578235948186168096036109725760209160035480850290858204148515171561096057670de0b6b3a7640000849104950135851161092b578288916001541660648b895194859384926323b872dd60e01b84528d8985015230908401528a60448401525af1908115610921578891610904575b50156108cc57507f7f758e9784ed173a74d7178b4e82cfcede1e9be603252080b7de88eb2dc7c78b949596508351928352820152a280f35b60158860649387519362461bcd60e51b855284015282015274151bdad95b881d1c985b9cd9995c8819985a5b1959605a1b6044820152fd5b61091b9150833d8511610554576105468183610a8f565b89610894565b86513d8a823e3d90fd5b5060118860649387519362461bcd60e51b85528401528201527011d85cc818dbdcdd08195e18d959591959607a1b6044820152fd5b634e487b7160e01b8952601183528989fd5b8680fd5b8580fd5b845162461bcd60e51b8152602081880152600f818a01526e13db9b1e48115b9d1c9e541bda5b9d608a1b6044820152606490fd5b92919050346105da57836003193601126105da576001546370a0823160e01b84523091840191909152602090839060249082906001600160a01b03165afa918215610a3c578392610a04575b6020838351908152f35b9091506020813d602011610a34575b81610a2060209383610a8f565b810103126100f357602092505190386109fa565b3d9150610a13565b81513d85823e3d90fd5b9181601f84011215610a745782359167ffffffffffffffff8311610a745760208381860195010111610a7457565b600080fd5b600435906001600160a01b0382168203610a7457565b90601f8019910116810190811067ffffffffffffffff821117610ab157604052565b634e487b7160e01b600052604160045260246000fd5b90816020910312610a7457518015158103610a745790565b6000546001600160a01b03163303610af357565b60405163118cdaa760e01b8152336004820152602490fd5b8151919060418303610b3c57610b3592506020820151906060604084015193015160001a90610bcc565b9192909190565b505060009160029190565b6004811015610bb65780610b59575050565b60018103610b735760405163f645eedf60e01b8152600490fd5b60028103610b945760405163fce698f760e01b815260048101839052602490fd5b600314610b9e5750565b602490604051906335e2f38360e21b82526004820152fd5b634e487b7160e01b600052602160045260246000fd5b91907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08411610c5057926020929160ff608095604051948552168484015260408301526060820152600092839182805260015afa15610c445780516001600160a01b03811615610c3b57918190565b50809160019190565b604051903d90823e3d90fd5b5050506000916003919056fea26469706673582212207738ea7c47f486343cdcebe37f2a558eb9a49d0fe5bca1b040c88bf0d02b9c7864736f6c63430008180033",
  "deployedBytecode": "0x6080604081815260048036101561001557600080fd5b600092833560e01c90816312065fe0146109ae57508063190f3b0c146107c85780632737240d146105de578063315a095d1461044b578063324762b91461040f5780633ba0b9a9146103f0578063451c3d80146103c7578063715018a61461036a5780638da5cb5b146103425780639000b3d6146102a0578063b0d691fe14610273578063ca2dfd0a1461020d578063db068e0e1461017d578063f2fde38b146100f75763feb61724146100c857600080fd5b346100f35760203660031901126100f3578160209360ff923581526005855220541690519015158152f35b8280fd5b50346100f35760203660031901126100f357610111610a79565b9061011a610adf565b6001600160a01b0391821692831561016757505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b51631e4fbdf760e01b8152908101849052602490fd5b5090346100f35760203660031901126100f35781359161019b610adf565b82156101d35750816020917f388f446e9526fe5c9af20a5919b342370c8a7c0cb05245afe1e545658fa3cdba9360035551908152a180f35b6020606492519162461bcd60e51b8352820152601560248201527452617465206d75737420626520706f73697469766560581b6044820152fd5b5090346100f35760203660031901126100f357610228610a79565b610230610adf565b6001600160a01b03168084526020929092528220805460ff191690557f44a3cd4eb5cc5748f6169df057b1cb2ae4c383e87cd94663c430e095d4cba4248280a280f35b50503461029c578160031936011261029c5760025490516001600160a01b039091168152602090f35b5080fd5b5090346100f35760203660031901126100f3576102bb610a79565b6102c3610adf565b6001600160a01b031691821561030d578284526020528220805460ff191660011790557f6d05492139c5ea989514a5d2150c028041e5c087e2a39967f67dc7d2655adb818280a280f35b6020606492519162461bcd60e51b8352820152601060248201526f24b73b30b634b2103b32b934b334b2b960811b6044820152fd5b50503461029c578160031936011261029c57905490516001600160a01b039091168152602090f35b83346103c457806003193601126103c457610383610adf565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b80fd5b50503461029c578160031936011261029c5760015490516001600160a01b039091168152602090f35b50503461029c578160031936011261029c576020906003549051908152f35b50346100f35760203660031901126100f35760209260ff918391906001600160a01b0361043a610a79565b168252855220541690519015158152f35b5090346100f357602090816003193601126105da57823561046a610adf565b60015482516370a0823160e01b815230868201526001600160a01b0391821691908581602481865afa9081156105d057889161059f575b508311610565578654845163a9059cbb60e01b815291166001600160a01b03168682019081526020810193909352918491839182908990829060400103925af190811561055b57859161052e575b50156104f9578380f35b5162461bcd60e51b815291820152601160248201527015da5d1a191c985dd85b0819985a5b1959607a1b604482015260649150fd5b61054e9150833d8511610554575b6105468183610a8f565b810190610ac7565b386104ef565b503d61053c565b82513d87823e3d90fd5b835162461bcd60e51b81528087018690526014602482015273496e73756666696369656e742062616c616e636560601b6044820152606490fd5b90508581813d83116105c9575b6105b68183610a8f565b810103126105c55751386104a1565b8780fd5b503d6105ac565b85513d8a823e3d90fd5b8380fd5b5091346103c45760803660031901126103c4576105f9610a79565b90602435916064359467ffffffffffffffff958681116105da576106209036908301610a46565b94907f19457468657265756d205369676e6564204d6573736167653a0a333200000000855281601c52603c85209786116107b557602097601f199688519261066f8b8a601f8501160185610a8f565b81845236828201116105c55791878b838694610695968361069e99013784010152610b0b565b90929192610b47565b6001600160a01b031684528187528584205460ff161561077e5783526005865260ff8584205416610746575083516001600160a01b0390911685820190815260443560208201529092906106fd90849060400103828101855284610a8f565b8351948592818452845191828186015281955b83871061072e5750508394508582601f949501015201168101030190f35b86810182015189880189015295810195889550610710565b845162461bcd60e51b81529081018690526012602482015271139bdb98d948185b1c9958591e481d5cd95960721b6044820152606490fd5b855162461bcd60e51b81528083018890526011602482015270496e76616c6964207369676e617475726560781b6044820152606490fd5b634e487b7160e01b855260418352602485fd5b5082903461029c578260031936011261029c57803567ffffffffffffffff81116100f3576107f99036908301610a46565b60025460249592918635916001600160a01b0391908216330361097a5783859181010312610976578235948186168096036109725760209160035480850290858204148515171561096057670de0b6b3a7640000849104950135851161092b578288916001541660648b895194859384926323b872dd60e01b84528d8985015230908401528a60448401525af1908115610921578891610904575b50156108cc57507f7f758e9784ed173a74d7178b4e82cfcede1e9be603252080b7de88eb2dc7c78b949596508351928352820152a280f35b60158860649387519362461bcd60e51b855284015282015274151bdad95b881d1c985b9cd9995c8819985a5b1959605a1b6044820152fd5b61091b9150833d8511610554576105468183610a8f565b89610894565b86513d8a823e3d90fd5b5060118860649387519362461bcd60e51b85528401528201527011d85cc818dbdcdd08195e18d959591959607a1b6044820152fd5b634e487b7160e01b8952601183528989fd5b8680fd5b8580fd5b845162461bcd60e51b8152602081880152600f818a01526e13db9b1e48115b9d1c9e541bda5b9d608a1b6044820152606490fd5b92919050346105da57836003193601126105da576001546370a0823160e01b84523091840191909152602090839060249082906001600160a01b03165afa918215610a3c578392610a04575b6020838351908152f35b9091506020813d602011610a34575b81610a2060209383610a8f565b810103126100f357602092505190386109fa565b3d9150610a13565b81513d85823e3d90fd5b9181601f84011215610a745782359167ffffffffffffffff8311610a745760208381860195010111610a7457565b600080fd5b600435906001600160a01b0382168203610a7457565b90601f8019910116810190811067ffffffffffffffff821117610ab157604052565b634e487b7160e01b600052604160045260246000fd5b90816020910312610a7457518015158103610a745790565b6000546001600160a01b03163303610af357565b60405163118cdaa760e01b8152336004820152602490fd5b8151919060418303610b3c57610b3592506020820151906060604084015193015160001a90610bcc565b9192909190565b505060009160029190565b6004811015610bb65780610b59575050565b60018103610b735760405163f645eedf60e01b8152600490fd5b60028103610b945760405163fce698f760e01b815260048101839052602490fd5b600314610b9e5750565b602490604051906335e2f38360e21b82526004820152fd5b634e487b7160e01b600052602160045260246000fd5b91907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08411610c5057926020929160ff608095604051948552168484015260408301526060820152600092839182805260015afa15610c445780516001600160a01b03811615610c3b57918190565b50809160019190565b604051903d90823e3d90fd5b5050506000916003919056fea26469706673582212207738ea7c47f486343cdcebe37f2a558eb9a49d0fe5bca1b040c88bf0d02b9c7864736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
